<app-nav-bar fxFlex="18"></app-nav-bar>
<div fxFlex fxLayout="column" style="background-color: rgb(92, 89, 89)">
  <app-top-bar></app-top-bar>
  <div fxFlex style="background-color: rgb(92, 89, 89)">
    <div fxFlex="95" style="background-color: white; height: 78%">
      <div
        style="
          background-color: rgba(162, 214, 238, 0.699);
          height: 90%;
          margin: 1em;
          padding: 1vh;
        "
      >
        <div
          fxFlex="95"
          fxLayout="column"
          fxLayoutAlign="start stretch"
          style="background-color: white; margin: 0 auto"
        >
          <div
            fxFlex="15"
            fxLayoutAlign="space-between center"
            style="padding: 2em"
          >
            <button mat-raised-button color="basic">NEW POST</button>

            <mat-form-field
              fxFlex.gt-sm="100"
              fxFlex.gt-sm="20"
              style="width: 100%"
            >
              <mat-label>Filter</mat-label>
              <input
                matInput
                (keyup)="applyFilter($event)"
                placeholder="Ex. bmacalester"
                #input
              />
            </mat-form-field>
          </div>
          <div style="overflow: scroll; position: relative">
            <table mat-table [dataSource]="dataSource" matSort>
              <!-- ID Column -->
              <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>id</th>
                <td mat-cell *matCellDef="let row">{{ row.id }}</td>
              </ng-container>

              <!-- tag Column -->
              <ng-container matColumnDef="tag">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>tag</th>
                <td mat-cell *matCellDef="let row">{{ row.tag }}</td>
              </ng-container>
              <!-- author Column -->

              <ng-container matColumnDef="author">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  author
                </th>
                <td mat-cell *matCellDef="let row">{{ row.author }}</td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

              <!-- Row shown when there is no matching data. -->
              <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="4">
                  Error: {{ message }} "{{ input.value }}"
                </td>
              </tr>
              <!-- actions Column -->
              <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef>actions</th>
                <td mat-cell *matCellDef="let row" style="text-align: start">
                  <!-- Icono de delete -->
                  <!-- (click)="openDialogDelete('3000ms', '1500ms', row)" -->

                  <button
                    mat-icon-button
                    (click)="openDialogDelete('3000ms', '1500ms', row)"
                  >
                    <mat-icon>delete</mat-icon>
                  </button>

                  <!-- Icono de info -->
                  <button mat-icon-button>
                    <mat-icon>info</mat-icon>
                  </button>
                </td>
              </ng-container>
            </table>
          </div>

          <!-- AQUI ACABA EL DIV DE LA TABLA -->

          <div fxFlex="5" style="display: inline-table; text-align: end">
            <span style="margin-right: 1em; font-size: 14px; color: #777">
              {{ pageIndex + 1 }} - {{ totalPages }}
            </span>
            <mat-button-toggle-group
              style="background: transparent; border: none"
            >
              <mat-button-toggle
                style="
                  background: #fff;
                  color: #000;
                  border: none;
                  border-radius: 0;
                "
                (change)="backPagePosts()"
              >
                <mat-icon
                  aria-hidden="false"
                  aria-label="Example arrow left"
                  fontIcon="arrow_left"
                  style="font-size: 24px"
                ></mat-icon>
              </mat-button-toggle>
              <mat-button-toggle
                style="
                  background: #fff;
                  color: #000;
                  border: none;
                  border-radius: 0;
                "
                (change)="nextPagePosts()"
              >
                <mat-icon
                  aria-hidden="false"
                  aria-label="Example arrow right"
                  fontIcon="arrow_right"
                  style="font-size: 24px"
                ></mat-icon>
              </mat-button-toggle>
            </mat-button-toggle-group>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff"
  ><p style="color: white">Loading...</p></ngx-spinner
>
